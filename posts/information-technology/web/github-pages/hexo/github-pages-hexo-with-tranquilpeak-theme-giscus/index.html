<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>GitHub Pages: Hexo with Tranquilpeak theme - giscus | F0UNDA710n2_101</title>
<meta name=keywords content="Hexo,Tranquilpeak,giscus"><meta name=description content="Hexo: giscus로 댓글 입력란을 추가합니다."><meta name=author content="h473r560nn4h473"><link rel=canonical href=https://h473r560nn4h473.github.io/posts/information-technology/web/github-pages/hexo/github-pages-hexo-with-tranquilpeak-theme-giscus/><meta name=google-site-verification content="G-ZHWJ56HYJC"><link crossorigin=anonymous href=/assets/css/stylesheet.min.19aea294151b3b492784b9376037c17c4e85c96916b729fd92898e7d48a52a6c.css integrity="sha256-Ga6ilBUbO0knhLk3YDfBfE6FyWkWtyn9komOfUilKmw=" rel="preload stylesheet" as=style><link rel=icon href=https://h473r560nn4h473.github.io/image/global/favicon.svg><link rel=icon type=image/png sizes=16x16 href=https://h473r560nn4h473.github.io/image/global/favicon.svg><link rel=icon type=image/png sizes=32x32 href=https://h473r560nn4h473.github.io/image/global/favicon.svg><link rel=apple-touch-icon href=https://h473r560nn4h473.github.io/image/global/favicon.svg><link rel=mask-icon href=https://h473r560nn4h473.github.io/image/global/favicon.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://h473r560nn4h473.github.io/posts/information-technology/web/github-pages/hexo/github-pages-hexo-with-tranquilpeak-theme-giscus/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-ZHWJ56HYJC"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-ZHWJ56HYJC")</script><meta property="og:url" content="https://h473r560nn4h473.github.io/posts/information-technology/web/github-pages/hexo/github-pages-hexo-with-tranquilpeak-theme-giscus/"><meta property="og:site_name" content="F0UNDA710n2_101"><meta property="og:title" content="GitHub Pages: Hexo with Tranquilpeak theme - giscus"><meta property="og:description" content="Hexo: giscus로 댓글 입력란을 추가합니다."><meta property="og:locale" content="ko"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-12-12T13:05:44+09:00"><meta property="article:modified_time" content="2024-12-12T13:05:44+09:00"><meta property="article:tag" content="Hexo"><meta property="article:tag" content="Tranquilpeak"><meta property="article:tag" content="Giscus"><meta property="og:image" content="https://h473r560nn4h473.github.io/image/global/logo.jpg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://h473r560nn4h473.github.io/image/global/logo.jpg"><meta name=twitter:title content="GitHub Pages: Hexo with Tranquilpeak theme - giscus"><meta name=twitter:description content="Hexo: giscus로 댓글 입력란을 추가합니다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://h473r560nn4h473.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Information Technology","item":"https://h473r560nn4h473.github.io/posts/information-technology/"},{"@type":"ListItem","position":3,"name":"Web","item":"https://h473r560nn4h473.github.io/posts/information-technology/web/"},{"@type":"ListItem","position":4,"name":"GitHub Pages","item":"https://h473r560nn4h473.github.io/posts/information-technology/web/github-pages/"},{"@type":"ListItem","position":5,"name":"Hexo","item":"https://h473r560nn4h473.github.io/posts/information-technology/web/github-pages/hexo/"},{"@type":"ListItem","position":6,"name":"GitHub Pages: Hexo with Tranquilpeak theme - giscus","item":"https://h473r560nn4h473.github.io/posts/information-technology/web/github-pages/hexo/github-pages-hexo-with-tranquilpeak-theme-giscus/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"GitHub Pages: Hexo with Tranquilpeak theme - giscus","name":"GitHub Pages: Hexo with Tranquilpeak theme - giscus","description":"Hexo: giscus로 댓글 입력란을 추가합니다.","keywords":["Hexo","Tranquilpeak","giscus"],"articleBody":"Introduction 소통할 창구가 없으면 스스로 알아차리기 전에는 문제가 있는지 모릅니다.\n그래서 댓글 기능을 반드시 추가해야 했습니다.\n처음 찾은 것은 Disqus입니다. 회원가입을 요구해서 포기했습니다.\n다음으로 찾은 것은 Utterances입니다. 처음에는 잘 작동했었는데 나중에 다시 확인하니 댓글을 등록하려고 하면 404 에러를 띄워서 포기했습니다. 이런 이슈가 있는걸 보면 canonical을 추가하면서 고장 난 거 같습니다.\n마지막으로 찾은 것이 giscus입니다. GitHub 계정만 있으면 됩니다. Install: giscus 이하 과정 중 막히는 부분이 있다면 giscus 공식 문서를 따라서 진행하시면 됩니다.\ngiscus는 GitHub Discussions를 이용해 댓글을 구현합니다. 그래서 giscus가 사용할 저장소를 하나 만들어줘야 합니다.\n원하는 이름으로 공개 저장소를 하나 만듭니다. 비공개 저장소로 만들면 다른 접속자가 댓글을 볼 수 없습니다.\n만든 저장소의 Settings에서 Features을 찾아서 Discussions 기능을 활성화시킵니다. 저는 다른 기능은 비활성화시켰습니다. 지금은 필요없고, 나중에 필요해지면 활성화시키면 됩니다.\ngiscus에 접속해서 저장소에 giscus app을 설치합니다. 저장소를 선택할 때 Only select repositories에서 giscus 전용 저장소를 고릅니다. giscus로 돌아가서 설정을 진행합니다. 테마를 고르면 그 테마의 색으로 설정 페이지가 바로 바뀌므로, 원하는 색을 고르기가 편합니다.\n설정이 끝나면 giscus 사용에 설정한 내용이 반영되어 있습니다. ","wordCount":"524","inLanguage":"en","image":"https://h473r560nn4h473.github.io/image/global/logo.jpg","datePublished":"2024-12-12T13:05:44+09:00","dateModified":"2024-12-12T13:05:44+09:00","author":{"@type":"Person","name":"h473r560nn4h473"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://h473r560nn4h473.github.io/posts/information-technology/web/github-pages/hexo/github-pages-hexo-with-tranquilpeak-theme-giscus/"},"publisher":{"@type":"Organization","name":"F0UNDA710n2_101","logo":{"@type":"ImageObject","url":"https://h473r560nn4h473.github.io/image/global/favicon.svg"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://h473r560nn4h473.github.io/ accesskey=h title="7R14L 4nD 3rR0r (Alt + H)" class=title-link><img src=https://h473r560nn4h473.github.io/image/global/logo.jpg alt aria-label=logo height=40></a><div><a href=https://h473r560nn4h473.github.io/ accesskey=h title="7R14L 4nD 3rR0r (Alt + H)" class=title-link><div class=title-text><span class=site-title>7R14L 4nD 3rR0r</span>
<span class=site-subtitle>WhY I5n'7 7HI5 W0rKIn'?</span></div></a></div><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div><div class=logo-header-switches></div></div><ul id=menu><li><a href=https://h473r560nn4h473.github.io/archives title=Archive><span>Archive</span></a></li><li><a href=https://h473r560nn4h473.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://h473r560nn4h473.github.io/categories/ title=Category><span>Category</span></a></li><li><a href=https://h473r560nn4h473.github.io/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://h473r560nn4h473.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://h473r560nn4h473.github.io/posts/>Posts</a>&nbsp;»&nbsp;<a href=https://h473r560nn4h473.github.io/posts/information-technology/>Information Technology</a>&nbsp;»&nbsp;<a href=https://h473r560nn4h473.github.io/posts/information-technology/web/>Web</a>&nbsp;»&nbsp;<a href=https://h473r560nn4h473.github.io/posts/information-technology/web/github-pages/>GitHub Pages</a>&nbsp;»&nbsp;<a href=https://h473r560nn4h473.github.io/posts/information-technology/web/github-pages/hexo/>Hexo</a></div><h1 class="post-title entry-hint-parent">GitHub Pages: Hexo with Tranquilpeak theme - giscus</h1><div class=post-meta><span title='2024-12-12 13:05:44 +0900 KST'>Thu, 12 Dec 2024 13:05 KST</span>&nbsp;·&nbsp;h473r560nn4h473</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#introduction>Introduction</a></li><li><a href=#install-giscus>Install: giscus</a></li><li><a href=#install-grunt>Install: Grunt</a></li><li><a href=#check-results>Check Results</a></li><li><a href=#conclusion>Conclusion</a></li></ul></nav></div></details></div><div class=post-content><h2 id=introduction>Introduction<a hidden class=anchor aria-hidden=true href=#introduction>#</a></h2><p>소통할 창구가 없으면 스스로 알아차리기 전에는 문제가 있는지 모릅니다.<br>그래서 댓글 기능을 반드시 추가해야 했습니다.<br>처음 찾은 것은 Disqus입니다. 회원가입을 요구해서 포기했습니다.<br>다음으로 찾은 것은 Utterances입니다. 처음에는 잘 작동했었는데 나중에 다시 확인하니 댓글을 등록하려고 하면 404 에러를 띄워서 포기했습니다. <a href=https://github.com/utterance/utterances/issues/443>이런 이슈</a>가 있는걸 보면 canonical을 추가하면서 고장 난 거 같습니다.<br>마지막으로 찾은 것이 giscus입니다. GitHub 계정만 있으면 됩니다.<br></br></p><h2 id=install-giscus>Install: giscus<a hidden class=anchor aria-hidden=true href=#install-giscus>#</a></h2><p>이하 과정 중 막히는 부분이 있다면 <a href=https://giscus.app/ko>giscus 공식 문서</a>를 따라서 진행하시면 됩니다.</p><p>giscus는 GitHub Discussions를 이용해 댓글을 구현합니다. 그래서 giscus가 사용할 저장소를 하나 만들어줘야 합니다.<br>원하는 이름으로 공개 저장소를 하나 만듭니다. 비공개 저장소로 만들면 다른 접속자가 댓글을 볼 수 없습니다.</p><p>만든 저장소의 Settings에서 Features을 찾아서 Discussions 기능을 활성화시킵니다.<br></br><figure class="align-center contents-add-img"><img loading=lazy src=hexo_004_repo_config.png#center></figure></p><p>저는 다른 기능은 비활성화시켰습니다. 지금은 필요없고, 나중에 필요해지면 활성화시키면 됩니다.</p><p><a href=https://giscus.app/ko>giscus</a>에 접속해서 저장소에 <a href=https://github.com/apps/giscus>giscus app</a>을 설치합니다. 저장소를 선택할 때 <code>Only select repositories</code>에서 giscus 전용 저장소를 고릅니다.<br></br><figure class="align-center contents-add-img"><img loading=lazy src=hexo_005_giscus_repo.png#center></figure></p><p>giscus로 돌아가서 설정을 진행합니다.
테마를 고르면 그 테마의 색으로 설정 페이지가 바로 바뀌므로, 원하는 색을 고르기가 편합니다.</p><p>설정이 끝나면 <code>giscus 사용</code>에 설정한 내용이 반영되어 있습니다. <code>&lt;script></code> 블록에 마우스 커서가 올라가면 우측 상단에 복사 버튼이 표시되니 눌러서 설정을 복사해주세요.</p><p>이제 파일들을 만들고 수정해야 합니다.<br><code>&lt;folder>/themes/tranquilpeak/layout/_partial</code>으로 이동해서 <code>comment.ejs</code> 파일을 만들고 편집기로 열어줍니다.<br>모든 포스트에 댓글 입력란을 표시하려면 복사한 설정을 붙여넣고 저장하면 되고, 포스트마다 댓글 입력란 표시 여부를 정하고 싶다면 코드를 약간 추가하면 됩니다.</p><pre tabindex=0><code>&lt;% if (page.comment !== false) { %&gt;
# 댓글 입력란 표시여부 설정 기능 추가
# 여기에 복사한 설정을 붙여넣습니다.
&lt;% } %&gt;
</code></pre><p>저장하고 댓글 입력란을 표시하기 위해 같은 경로에 있는 <code>post.ejs</code> 파일을 편집기로 엽니다.<br>스크롤을 맨 밑으로 내리면 <code>&lt;/article></code> 위에 <code>&lt;/div></code>가 있습니다. 그 위에 <code>&lt;%- partial('comment') %></code>를 작성해 주세요.</p><pre tabindex=0><code>    &lt;%- partial(&#39;comment&#39;) %&gt;
  &lt;/div&gt;
&lt;/article&gt;
</code></pre><p>파일 생성 및 수정은 이것으로 끝이지만, 수정 내용이 바로 적용되진 않습니다.<br><code>Grunt</code>를 사용해서 수정 내역을 반영해줘야 합니다.<br></br></p><h2 id=install-grunt>Install: Grunt<a hidden class=anchor aria-hidden=true href=#install-grunt>#</a></h2><p>Grunt는 자바스크립트 작업 자동화 도구입니다.<br>블로그 작업 중에 Grunt를 자주 사용하게 될 텐데, 그렇다고 여러가지를 익혀야 하는 것은 아닙니다.<br>아마 <code>grunt build</code> 명령 하나만을 쓰게 될 것입니다.<br>layout이나 css등을 수정했다면 저장하고 <code>grunt build</code> 까지 해줘야 변경된 내용이 적용됩니다.</p><p>명령 프롬프트를 열어서 <code>npm install -g grunt-cli</code> 명령으로 grunt를 설치하고, <code>cd &lt;folder>/themes/tranquilpeak</code>으로 테마 폴더로 이동한 후 <code>npm install grunt --save-dev</code><sup id=hexo_01><a href=#footnote1>[1]</a></sup> 명령어를 입력해서 Grunt를 설치합니다.</p><p>명령 프롬프트에 <code>grunt build</code>를 입력하고 Done.이 출력되면 Grunt로 해야 하는 작업은 끝입니다.</p><hr><blockquote><p><b id=footnote1>[1]</b> &ndash;save-dev는 패키지를 개발 의존성으로 설치하라는 의미입니다. 애플리케이션의 실제 실행에는 필요하지 않은 패키지를 설치할 떄 사용합니다. 이 명령으로 설치된 패키지는 <code>package.json</code>의 <code>devDependencies</code>에 저장됩니다. <a href=#hexo_01>↩</a></p></blockquote><p><br></br></p><h2 id=check-results>Check Results<a hidden class=anchor aria-hidden=true href=#check-results>#</a></h2><p>댓글 입력란은 포스트의 맨 아래쪽에 출력되기 때문에 제대로 적용되었는지 확인하려면 포스트가 하나 있어야 합니다. Hexo에 기본으로 들어있는 Hello World 포스트가 있으니 이것으로 확인하겠습니다.</p><p>포스트에 댓글 입력란 표시여부 기능을 추가하지 않았다면 <code>cd &lt;folder></code>으로 Hexo 폴더로 이동한 후 <code>hexo clean && hexo g && hexo s -o</code> 명령으로 Hexo 서버를 실행하고 바로 보이는 Hello World 포스트에 접속해서 스크롤을 맨 밑으로 내리면 댓글 입력란이 표시되어 있습니다.</p><p>포스트에 댓글 입력란 표시여부 기능을 추가했다면 <code>&lt;folder>/source/_posts</code> 경로에 들어가보면 <code>hello-world.md</code> 파일이 있습니다. 편집기로 열면 위쪽에 <code>title: Hello World</code>이 있을 텐데, 그 아래에 <code>comment: true</code>를 추가해 줍니다.</p><pre tabindex=0><code>---
title: Hello World
comment: true
---
</code></pre><p>저장한 뒤, <code>hexo clean && hexo g && hexo s -o</code> 명령으로 Hexo 서버를 실행하고 바로 보이는 Hello World 포스트에 접속해서 스크롤을 맨 밑으로 내리면 댓글 입력란이 표시되어 있습니다.<br></br><figure class="align-center contents-add-img"><img loading=lazy src=hexo_006_giscus_done.png#center></figure></p><p>잘 적용되었습니다.<br></br></p><h2 id=conclusion>Conclusion<a hidden class=anchor aria-hidden=true href=#conclusion>#</a></h2><p>저는 Utterances를 설치해뒀다가 고장나서 giscus로 바꾼건데 comment.ejs 파일 내용만 갈아치우면 끝이라 어렵지 않았습니다.<br>giscus는 문제 없이 유지되었으면 좋겠네요.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://h473r560nn4h473.github.io/tags/hexo/>Hexo</a></li><li><a href=https://h473r560nn4h473.github.io/tags/tranquilpeak/>Tranquilpeak</a></li><li><a href=https://h473r560nn4h473.github.io/tags/giscus/>Giscus</a></li></ul><nav class=paginav><a class=prev href=https://h473r560nn4h473.github.io/posts/information-technology/web/github-pages/hexo/github-pages-hexo-with-tranquilpeak-theme-contents/><span class=title>« Prev</span><br><span>GitHub Pages: Hexo with Tranquilpeak theme - Contents</span>
</a><a class=next href=https://h473r560nn4h473.github.io/posts/information-technology/web/github-pages/hexo/github-pages-hexo-with-tranquilpeak-theme-introduction/><span class=title>Next »</span><br><span>GitHub Pages: Hexo with Tranquilpeak theme - Introduction</span></a></nav></footer><script src=https://giscus.app/client.js data-repo=h473r560nn4h473/github_page_comments data-repo-id=R_kgDONgLaCA data-category=Comments data-category-id=DIC_kwDONgLaCM4ClY7e data-mapping=pathname data-strict=1 data-reactions-enabled=0 data-emit-metadata=0 data-input-position=top data-theme=preferred_color_scheme data-lang=ko data-loading=lazy crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2024 <a href=https://h473r560nn4h473.github.io/>F0UNDA710n2_101</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>